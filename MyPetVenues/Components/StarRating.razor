<div class="star-rating">
    @for (int i = 1; i <= 5; i++)
    {
        var starIndex = i;
        <span class="star @(GetStarClass(starIndex))">
            @GetStarIcon(starIndex)
        </span>
    }
    @if (ShowValue)
    {
        <span class="rating-value">@Rating.ToString("0.0")</span>
    }
</div>

@code {
    [Parameter]
    public double Rating { get; set; }

    [Parameter]
    public bool ShowValue { get; set; } = false;

    [Parameter]
    public bool Interactive { get; set; } = false;

    [Parameter]
    public EventCallback<int> OnRatingChanged { get; set; }

    private string GetStarClass(int index)
    {
        if (Rating >= index) return "filled";
        if (Rating >= index - 0.5) return "half";
        return "empty";
    }

    private string GetStarIcon(int index)
    {
        if (Rating >= index) return "★";
        if (Rating >= index - 0.5) return "★";
        return "☆";
    }
}
